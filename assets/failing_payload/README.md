# Failing CAT034 payload (frame 3)

Generated by `scripts/isolate_failing_payload.sh`.

## Files

| File | Description |
|------|-------------|
| `udp_payload_hex.txt` | Full UDP payload of frame 3 (hex, 16 bytes per line) |
| `udp_payload.bin` | Full UDP payload (raw binary) |
| `udp_payload_xxd.txt` | Full payload, xxd-style with offsets |
| `cat034_block_hex.txt` | Isolated 11-byte CAT034 block (hex) |
| `cat034_block.bin` | Isolated CAT034 block (raw) |
| `cat034_block_xxd.txt` | CAT034 block, xxd-style |
| `tshark_asterix_frame3.txt` | Full tshark ASTERIX decode for frame 3 |
| `our_decoder_frame3_cat034.txt` | Our decode_pcap output for the CAT034 block in frame 3 |

## CAT034 block (11 bytes) — frame 3, UDP offset 55

```
22 00 0b  f0 19 0d 02 35 6d fa 60
│  │  │   │  └── data (7 bytes) ──┘
│  │  │   └─ FSPEC (1 byte) = 0xf0
│  │  └─ Length = 11 (big-endian)
│  └─ Category = 34 (0x22)
```

- **FSPEC (ASTERIX)**: FX = **LSB (bit 0)**; 7 presence bits = **bits 7–1**. So `0xf0` → FX=0, bits 7–4 = 1 → 010, 000, 030, 020.
- **tshark**: Interprets one FSPEC byte `0xf0` → 010, 000, 030, 020. Data = `19 0d 02 35 6d fa 60` (7 bytes): 010 (SAC=0x19, SIC=0x0d), 000=2, 030 (3 bytes), 020=135. Decodes successfully.
- **Our decoder (after fix)**: FX = LSB; one FSPEC byte, then 7 bytes data — matches tshark. CAT034 now decodes 34/34 blocks (was 10 before the LSB fix).


## Compare with tshark

```bash
# Full ASTERIX decode for frame 3
tshark -r assets/cat_034_048.pcap -Y "frame.number==3" -O asterix

# Or open the saved decode
cat assets/failing_payload/tshark_asterix_frame3.txt
```
